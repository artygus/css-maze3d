<html>
<head>
  <script src="../lib/jquery-1.11.3.min.js"></script>
  <script src="../lib/handy.js"></script>
  <script src="../lib/ard.js"></script>
  <script src="../lib/Bacon.js"></script>
  <script src="../lib/keyboard.js"></script>
  <link rel="stylesheet" href="bootstrap/css/bootstrap.min.css">
  <script src="bootstrap/js/bootstrap.min.js"></script>
  <script src="../lib/underscore.js"></script>

  <script src="../compiled/namespaces.js"></script>
  <script src="../compiled/object.js"></script>
  <script src="../compiled/data_type_asset_entry.js"></script>
  <script src="../compiled/data_type_actor_position.js"></script>
  <script src="../compiled/data_type_world_direction.js"></script>
  <script src="../compiled/data_type_pos.js"></script>
  <script src="../compiled/data_type_level.js"></script>
  <script src="compiled/object.js"></script>

  <!-- Assets -->
  <script src="../compiled/data_assets.js"></script>
  <!-- /Assets -->

  <script src="compiled/data_level_editor.js"></script>
  <script src="compiled/data_level_cells.js"></script>
  <script src="compiled/data_level_actors.js"></script>
  <script src="compiled/data_ui_modes.js"></script>

  <script src="compiled/app_level_editor.js"></script>

  <script src="../compiled/helper_level.js"></script>

  <script src="../compiled/serializer_level.js"></script>

  <script src="compiled/view_grid.js"></script>
  <script src="compiled/view_cells.js"></script>
  <script src="compiled/view_ui_mode_switch_button.js"></script>
  <script src="compiled/view_modal_source.js"></script>
  <script src="compiled/view_modal_load_source.js"></script>
  <script src="compiled/view_asset_explorer.js"></script>
  <script src="compiled/view_actor_direction.js"></script>

  <script src="compiled/module_hotkeys.js"></script>

  <link rel="stylesheet" href="level_editor.css"/>
</head>
<body>

  <div app-level-editor class="level-editor">

    <div class="ui -ui-frame -left -top">

      <div class="navbar navbar-default" id="menu-bar">
        <div class="container-fluid">

          <div class="collapse navbar-collapse">

            <ul class="nav navbar-nav">
              <li class="dropdown">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Menu <span class="caret"></span></a>
                <ul class="dropdown-menu">
                  <li><a href="#" data-toggle="modal" data-target="#view-modal-source">View source</a></li>
                  <li><a href="#">Save to file</a></li>
                  <li role="separator" class="divider"></li>
                  <li><a href="#" data-toggle="modal" data-target="#view-modal-load-source">Load from source</a></li>
                </ul>
              </li>
            </ul>

            <div class="btn-group navbar-form navbar-left">
              <button type="button" class="btn btn-default " aria-label="Left Align" mode="m_select" view-leditor-uimodeswitchbutton>
                <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
              </button>
              <button type="button" class="btn btn-default" aria-label="Left Align" mode="m_build" view-leditor-uimodeswitchbutton>
                <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
              </button>
              <button type="button" class="btn btn-default" aria-label="Left Align" mode="m_destroy" view-leditor-uimodeswitchbutton>
                <span class="glyphicon glyphicon-remove" aria-hidden="true"></span>
              </button>
              <button type="button" class="btn btn-default" aria-label="Right Align" mode="m_navigate" view-leditor-uimodeswitchbutton>
                <span class="glyphicon glyphicon-move" aria-hidden="true"></span>
              </button>
            </div>

          </div>

        </div>
      </div>

    </div>

    <div class="ui -ui-frame -left -bottom" view-leditor-asset-explorer>
      <div class="navbar navbar-default" id="asset-bar">
        <div class="container-fluid">

          <form class="ui-asset-select">
            <div class="list-group ui-asset-select__list" asset-list>

            </div>
            <button type="button" class="btn btn-primary" place-asset>Place asset</button>
          </form>

        </div>
      </div>
    </div>

    <div class="ui -ui-frame -right -bottom" view-leditor-actor-direction>
      <div class="navbar navbar-default">
        <div class="container-fluid">
          <form class="ui-actor-direction">
            <div class="row">
              <div class="col-md-12">
                <label for="actor-direction-n">
                  <input type="radio" name="actor-direction" id="actor-direction-n"> North
                </label>
              </div>
            </div>
            <div class="row">
              <div class="col-md-4">
                <label for="actor-direction-w">
                  <input type="radio" name="actor-direction" id="actor-direction-w"> West
                </label>
              </div>
              <div class="col-md-4 ui-actor-direction__actor-id" actor-id>#{Actor id}</div>
              <div class="col-md-4">
                <label for="actor-direction-e">
                  <input type="radio" name="actor-direction" id="actor-direction-e"> East
                </label>
              </div>
            </div>
            <div class="row">
              <div class="col-md-12">
                <label for="actor-direction-s">
                  <input type="radio" name="actor-direction" id="actor-direction-s"> South
                </label>
              </div>
            </div>
          </form>
        </div>
      </div>
    </div>

    <div class="appendix">

      <div class="modal fade" id="view-modal-source" tabindex="-1" role="dialog" aria-hidden="true" view-leditor-modal-source>
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
              <h4 class="modal-title">Level source</h4>
            </div>

            <div class="modal-body">
              <textarea class="form-control" name="level-source" cols="30" rows="20"></textarea>
            </div>

            <div class="modal-footer">
              <button type="button" class="btn btn-primary" data-dismiss="modal">Ok</button>
            </div>
          </div>
        </div>
      </div>

      <div class="modal fade" id="view-modal-load-source" tabindex="-1" role="dialog" aria-hidden="true" view-leditor-modal-load-source>
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
              <h4 class="modal-title">Load level from source</h4>
            </div>

            <div class="modal-body">
              <textarea class="form-control" name="level-source" cols="30" rows="20"></textarea>
            </div>

            <div class="modal-footer">
              <button type="button" class="btn btn-primary" load>Load</button>
              <button type="button" class="btn btn-warning" data-dismiss="modal">Cancel</button>
            </div>
          </div>
        </div>
      </div>

    </div>

  </div>

  <script>
    $(function(){
      window.leditor = levelEditor.App.init()
    });
  </script>

</body>
</html>